var Benchmark = require('benchmark')
const {makeHashMD5} = require('../app/auxs/aux_crypt.js');
const hash = require('crypto').createHash;
var suite = new Benchmark.Suite

var testObj = [{"title":"1","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_WtXSOtBYQVVEvTYNk4umv","_note_encrypt":true,"_note_original_description":"[TAB] to edit","_note_creationDate":1558622488824,"_note_type":"text","_note_rulefile":"note-1.json","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"txt","_note_datafile":"data-1.txt","_note_encrypt_hash":"fcc503928a0f5de0fd264a877fb801c7f3a58d36bab1e5e7cea28635da9e1dcb","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":8},"_note_originalTitle":"1","_note_modifyDate":1558624296855},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_WtXSOtBYQVVEvTYNk4umv","description":"[a day ago] [TAB] to edit","initSort":1558622488824,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"1 #.txt #note"},{"title":"111","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_rla1Jej72q0XT8nPNtT1w","_note_encrypt":false,"_note_original_description":"[TAB] to edit","_note_creationDate":1558731311010,"_note_type":"url","_note_rulefile":"note-111.json","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"url","_note_datafile":"data-111.url","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":0},"_note_originalTitle":"111","_note_modifyDate":1558731317470},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_rla1Jej72q0XT8nPNtT1w","description":"[an hour ago] [TAB] to edit","initSort":1558731311010,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"111 #.url #note"},{"title":"123","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_YMJOfk2GcWmcOB3QYbMcs","_note_encrypt":true,"_note_original_description":"[TAB] to edit","_note_creationDate":1558622962048,"_note_type":"text","_note_rulefile":"note-123.json","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"txt","_note_datafile":"data-123.txt","_note_encrypt_hash":"fcc503928a0f5de0fd264a877fb801c7f3a58d36bab1e5e7cea28635da9e1dcb","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":4},"_note_originalTitle":"123","_note_modifyDate":1558624290336},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_YMJOfk2GcWmcOB3QYbMcs","description":"[a day ago] [TAB] to edit","initSort":1558622962048,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"123 #.txt #note"},{"title":"12344","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1__5gC3b0FhwwQbQ8J3fZQd","_note_encrypt":true,"_note_original_description":"[TAB] to edit","_note_creationDate":1558711454032,"_note_type":"text","_note_rulefile":"note-1234.json","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"txt","_note_datafile":"data-1234.txt","_note_encrypt_hash":"fcc503928a0f5de0fd264a877fb801c7f3a58d36bab1e5e7cea28635da9e1dcb","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":3},"_note_originalTitle":"1234","_note_modifyDate":1558725902560,"_note_folder":"ROOT"},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1__5gC3b0FhwwQbQ8J3fZQd","description":"[7 hours ago] [TAB] to edit","initSort":1558711454032,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"12344 #.txt #note"},{"title":"123","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_4FK1R6paLdcuSPHqG3NpK","_note_encrypt":true,"_note_original_description":"[TAB] to edit","_note_creationDate":1558647482791,"_note_type":"text","_note_rulefile":"note-123_(1).json","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"txt","_note_datafile":"data-123_(1).txt","_note_encrypt_hash":"fcc503928a0f5de0fd264a877fb801c7f3a58d36bab1e5e7cea28635da9e1dcb","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":0},"_note_originalTitle":"123","_note_modifyDate":1558647489109},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_4FK1R6paLdcuSPHqG3NpK","description":"[a day ago] [TAB] to edit","initSort":1558647482791,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"123 #.txt #note"},{"title":"22222","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_7I3_UqFIWW9bz_pIeVLxQ","_note_encrypt":false,"_note_original_description":"[TAB] to edit","_note_creationDate":1558731326557,"_note_type":"markdown","_note_rulefile":"note-22222.json","mode":"markdown","_note_lineWrapping":true,"_note_dataExtension":"md","_note_datafile":"data-22222.md","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":1},"_note_originalTitle":"22222","_note_modifyDate":1558731438547},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_7I3_UqFIWW9bz_pIeVLxQ","description":"[an hour ago] [TAB] to edit","initSort":1558731326557,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"22222 #.md #markdown #note"},{"title":"4444","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_RfMUYbhApWSrkBiFejV02","_note_encrypt":false,"_note_original_description":"[TAB] to edit","_note_creationDate":1558731674433,"_note_type":"markdown","_note_rulefile":"note-4444.json","mode":"markdown","_note_lineWrapping":true,"_note_dataExtension":"md","_note_datafile":"data-4444.md","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":4},"_note_originalTitle":"4444","_note_modifyDate":1558731711402},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_RfMUYbhApWSrkBiFejV02","description":"[an hour ago] [TAB] to edit","initSort":1558731674433,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"4444 #.md #markdown #note"},{"title":"desencript","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_QUIMoHcm22z_DY3Qg1khf","_note_encrypt":false,"_note_original_description":"[TAB] to edit","_note_creationDate":1558479577974,"_note_type":"text","_note_rulefile":"note-desencript.json","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"txt","_note_datafile":"data-desencript.txt","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":4},"_note_originalTitle":"desencript","_note_modifyDate":1558479674623,"_note_encrypt_hash":"202cb962ac59075b964b07152d234b70"},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_QUIMoHcm22z_DY3Qg1khf","description":"[3 days ago] [TAB] to edit","initSort":1558479577974,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"desencript #.txt #note"},{"title":"encrypt empty","params":{"_note_is_new":false,"_note_encrypt":true,"_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":1},"_note_rulefile":"note-encrypt_empty.json","_note_datafile":"data-encrypt_empty.txt","_note_originalTitle":"encrypt empty","_note_creationDate":1558478804480,"_internal_id":"TB_NOTE_v1_vEFC35ir9vlGn3Wcxx6kF","_note_original_description":"[TAB] to edit","_note_type":"auto","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"txt","_note_modifyDate":1558478810735,"_note_encrypt_hash":"202cb962ac59075b964b07152d234b70"},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_vEFC35ir9vlGn3Wcxx6kF","description":"[3 days ago] [TAB] to edit","initSort":1558478804480,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"encrypt empty #.txt #note"},{"title":"encrypt full","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_WzFGlgNbgMikWJOpxl3yu","_note_encrypt":true,"_note_original_description":"[TAB] to edit","_note_creationDate":1558478740966,"_note_type":"text","_note_rulefile":"note-encrypt_full.json","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"txt","_note_datafile":"data-encrypt_full.txt","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":3},"_note_originalTitle":"encrypt full","_note_modifyDate":1558481422433,"_note_encrypt_hash":"202cb962ac59075b964b07152d234b70"},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_WzFGlgNbgMikWJOpxl3yu","description":"[3 days ago] [TAB] to edit","initSort":1558478740966,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"encrypt full #.txt #note"},{"title":"github.com/2","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_9cSs6d7gWCmLDU5Ud-Fg6","_note_encrypt":false,"_note_original_description":"[TAB] to edit","_note_creationDate":1558636484983,"_note_type":"url","_note_rulefile":"note-github_com_2.json","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"url","_note_datafile":"data-github_com_2.url","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":2},"_note_originalTitle":"github.com/2","_note_modifyDate":1558636637335},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_9cSs6d7gWCmLDU5Ud-Fg6","description":"[a day ago] [TAB] to edit","initSort":1558636484983,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"github.com/2 #.url #note"},{"title":"github.com/3","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_44Ql1GM5ZclnMGTky2-km","_note_encrypt":false,"_note_original_description":"[TAB] to edit","_note_creationDate":1558636618346,"_note_type":"url","_note_rulefile":"note-github_com_2_(1).json","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"url","_note_datafile":"data-github_com_2_(1).url","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":2},"_note_originalTitle":"github.com/2","_note_modifyDate":1558636664821},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_44Ql1GM5ZclnMGTky2-km","description":"[a day ago] [TAB] to edit","initSort":1558636618346,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"github.com/3 #.url #note"},{"title":"github.com/4","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_wu7Xi0mOXTl3vUHxpufLk","_note_encrypt":false,"_note_original_description":"[TAB] to edit","_note_creationDate":1558636675185,"_note_type":"url","_note_rulefile":"note-github_com_4.json","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"url","_note_datafile":"data-github_com_4.url","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":2},"_note_originalTitle":"github.com/4","_note_modifyDate":1558710554976},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_wu7Xi0mOXTl3vUHxpufLk","description":"[a day ago] [TAB] to edit","initSort":1558636675185,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"github.com/4 #.url #note"},{"title":"no encript empty","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_QIlKrULDVLo6CtZVJyEpw","_note_encrypt":false,"_note_original_description":"[TAB] to edit","_note_creationDate":1558478610799,"_note_type":"auto","_note_rulefile":"note-no_encript_empty.json","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"txt","_note_datafile":"data-no_encript_empty.txt","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":0},"_note_originalTitle":"no encript empty","_note_modifyDate":1558478615453},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_QIlKrULDVLo6CtZVJyEpw","description":"[3 days ago] [TAB] to edit","initSort":1558478610799,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"no encript empty #.txt #note"},{"title":"no encript full","params":{"_note_is_new":false,"_note_encrypt":false,"_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":6},"_note_rulefile":"note-no_encript_full.json","_note_datafile":"data-no_encript_full.md","_note_originalTitle":"no encript full","_note_creationDate":1558477380166,"_internal_id":"TB_NOTE_v1_bXxeK9pMvw1lf9MTFJjxD","_note_original_description":"[TAB] to edit","_note_type":"markdown","mode":"markdown","_note_lineWrapping":true,"_note_dataExtension":"md","_note_modifyDate":1558731082330},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_bXxeK9pMvw1lf9MTFJjxD","description":"[3 days ago] [TAB] to edit","initSort":1558477380166,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"no encript full #.md #markdown #note"},{"title":"test","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_P-M8jFoC1g73nh-RINRTC","_note_encrypt":true,"_note_original_description":"[TAB] to edit","_note_creationDate":1558481047428,"_note_type":"text","_note_rulefile":"note-test.json","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"txt","_note_datafile":"data-test.txt","_note_encrypt_hash":"202cb962ac59075b964b07152d234b70","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":0},"_note_originalTitle":"test","_note_modifyDate":1558481059267},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_P-M8jFoC1g73nh-RINRTC","description":"[3 days ago] [TAB] to edit","initSort":1558481047428,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"test #.txt #note"},{"title":"test md","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_Blnkq4UQO0tMoP5FnX6e7","_note_encrypt":false,"_note_original_description":"[TAB] to edit","_note_creationDate":1558731095849,"_note_type":"markdown","_note_rulefile":"note-test_md.json","mode":"markdown","_note_lineWrapping":true,"_note_dataExtension":"md","_note_datafile":"data-test_md.md","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":0},"_note_originalTitle":"test md","_note_modifyDate":1558731103109},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_Blnkq4UQO0tMoP5FnX6e7","description":"[an hour ago] [TAB] to edit","initSort":1558731095849,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"test md #.md #markdown #note"},{"title":"test new encript","params":{"_note_is_new":false,"_internal_id":"TB_NOTE_v1_stioNM6t2Dii0BEp40-QV","_note_encrypt":true,"_note_original_description":"[TAB] to edit","_note_creationDate":1558481154971,"_note_type":"text","_note_rulefile":"note-test_new_encript.json","mode":"null","_note_lineWrapping":true,"_note_dataExtension":"txt","_note_datafile":"data-test_new_encript.txt","_note_encrypt_hash":"202cb962ac59075b964b07152d234b70","_meta":{"paste":false,"terminal":"der2","user":"karacas","modify_lenght":0},"_note_originalTitle":"test new encript","_note_modifyDate":1558481173056},"_id":"INTERNAL_PACK_NOTES-TB_NOTE_v1_stioNM6t2Dii0BEp40-QV","description":"[3 days ago] [TAB] to edit","initSort":1558481154971,"type":["TB_NOTES_OBJ","TB_NOTES_OBJ_SRTRING","object"],"path":"INTERNAL_PACK_NOTES","icon":{"type":"iconFont","iconClass":"mdi-cards accentColor2 text"},"searchField":"test new encript #.txt #note"}]

let XXHash
const makeHashXXHash = data => {
   if (typeof data !== 'string') return null;
   XXHash = XXHash || require('xxhash');
   return XXHash.hash(Buffer.from(data), 0xabcd);
};


// add tests
console.log(makeHashXXHash(JSON.stringify(testObj)));

suite
  .add('makeHashXXHash', function () {
    makeHashXXHash(JSON.stringify(testObj))
  })
  .add('makeHashMD5', function () {
    hash('md5').update(JSON.stringify(testObj)).digest('hex')
  })
  .add('makeHashMD5String', function () {
    makeHashMD5(JSON.stringify(testObj))
  })
  .add('none', function () {
    JSON.stringify(testObj)
  })
  // add listeners
  .on('cycle', function (event) {
    console.log(String(event.target))
  })
  .on('complete', function () {
    console.log('Fastest is ' + this.filter('fastest').map('name'))
  })
  // run async
  .run({ 'async': !true })